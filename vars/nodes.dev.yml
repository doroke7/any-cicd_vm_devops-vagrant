---
## all in one (10.0.0.11)
- name: one
  status: 'off' # single
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.11'
      desc: 01-to-04
  forwarded_ports:
    - guest: 22     # SSH
      host: 2222    # 一旦有换 SSH port 情形 vagrant up 的 ssh 会失效
    - guest: 80     # HTTP
      host: 80
    - guest: 81
      host: 8081
    - guest: 3000   # React Server
      host: 3000
    - guest: 3306   # MYSQL
      host: 3306   
    - guest: 443    # HTTPS
      host: 8443
    - guest: 5601   # Kibana
      host: 5601
    - guest: 9001   # Supervisor Web GUI
      host: 9001
    - guest: 9229   # Node Inspector
      host: 9229
    - guest: 9222   # Chrome debug
      host: 9222
    - guest: 9200   # Elasticsearch 
      host: 9200
    - guest: 27017  # MongoDB 
      host: 27017
  synced_folders:
    - src: "./../" # Vagrantfile 位置为基准
      # src: "./../../projects" # Vagrantfile 位置为基准
      dest: "/home/vagrant/www"
      owner: vagrant
      group: vagrant
      mount_options:
        - "dmode=777,fmode=666"
    - src: "./../landan-cicd_devops-ansible"
      dest: "/home/vagrant/www/landan-cicd_devops-ansible"
      owner: vagrant
      group: vagrant
      mount_options:
        - "dmode=775,fmode=664"
        # dmode配置目录权限，fmode配置文件权限  //默认权限777
        # ansible/ansible.cfg 必须设定为不可写入

## cicd (10.0.0.21 ~ 10.0.0.29)
- name: ansible
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.21'
      desc: 01-to-02
  synced_folders:
    - src: "./../" # Vagrantfile 位置为基准
      # src: "./../../projects" # Vagrantfile 位置为基准
      dest: "/home/vagrant/www"
      owner: vagrant
      group: vagrant
      mount_options:
        - "dmode=777,fmode=666"
    - src: "./../landan-cicd_devops-ansible"
      dest: "/home/vagrant/www/landan-cicd_devops-ansible"
      owner: vagrant
      group: vagrant
      mount_options:
        - "dmode=775,fmode=664"
        # dmode配置目录权限，fmode配置文件权限  //默认权限777
        # ansible/ansible.cfg 必须设定为不可写入
- name: gitlab
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.22'
      desc: 02-to-03
- name: jenkins
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.23'
      desc: 'Network to Advertise'
- name: zabbix
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.24'
      desc: 'Network to Advertise'
- name: jira
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.25'
      desc: 'Network to Advertise'

## nginx and load balance (10.0.0.31 ~ 10.0.0.39)
- name: nginx
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  # Internal only interfaces
    - ip: '10.0.0.31'
      desc: 01-to-04
  forwarded_ports:
   - guest: 80     # HTTP
     host: 80
   - guest: 81
     host: 8081
   - guest: 3000   # React Server
     host: 3000
   - guest: 3306   # MYSQL
     host: 3306   
   - guest: 443    # HTTPS
     host: 8443
   - guest: 5601   # Kibana
     host: 5601
   - guest: 9001   # Supervisor Web GUI
     host: 9001
   - guest: 9229   # Node Inspector
     host: 9229
   - guest: 9222   # Chrome debug
     host: 9222
   - guest: 9200   # Elasticsearch 
     host: 9200
   - guest: 27017  # MongoDB 
     host: 27017

## golang (10.0.0.41 ~ 10.0.0.49)
- name: golang1
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.41'
      desc: 01-to-04
  synced_folders:
    - src: "./../" # Vagrantfile 位置为基准
      # src: "./../../projects" # Vagrantfile 位置为基准
      dest: "/home/vagrant/www"
      owner: vagrant
      group: vagrant
      mount_options:
        - "dmode=777,fmode=666"

- name: golang2
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.42'
      desc: 01-to-04
  synced_folders:
    - src: "../../projects"
      dest: "/home/vagrant/www"
      owner: vagrant
      group: vagrant
      mount_options:
        - "dmode=777,fmode=666"
        # dmode配置目录权限，fmode配置文件权限  //默认权限777
        # ansible/ansible.cfg 必须设定为不可写入
## php (10.0.0.51 ~ 10.0.0.59)
- name: php1
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.51'
      desc: 01-to-04
  synced_folders:
    - src: "./../" # Vagrantfile 位置为基准
      # src: "./../../projects" # Vagrantfile 位置为基准
      dest: "/home/vagrant/www"
      owner: vagrant
      group: vagrant
      mount_options:
        - "dmode=777,fmode=666"
        # dmode配置目录权限，fmode配置文件权限  //默认权限777
        # ansible/ansible.cfg 必须设定为不可写入
- name: php2
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.52'
      desc: 01-to-04
  synced_folders:
    - src: "./../" # Vagrantfile 位置为基准
      # src: "./../../projects" # Vagrantfile 位置为基准
      dest: "/home/vagrant/www"
      owner: vagrant
      group: vagrant
      mount_options:
        - "dmode=777,fmode=666"
        # dmode配置目录权限，fmode配置文件权限  //默认权限777
        # ansible/ansible.cfg 必须设定为不可写入
        
## node (10.0.0.61 ~ 10.0.0.69)
- name: node1
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.61'
      desc: 01-to-04
  synced_folders:
    - src: "./../" # Vagrantfile 位置为基准
      # src: "./../../projects" # Vagrantfile 位置为基准
      dest: "/home/vagrant/www"
      owner: vagrant
      group: vagrant
      mount_options:
        - "dmode=777,fmode=666"
        # dmode配置目录权限，fmode配置文件权限  //默认权限777
        # ansible/ansible.cfg 必须设定为不可写入
        
##  redis, memcached (10.0.0.71 ~ 10.0.0.79)
- name: redis
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.71'
      desc: 01-to-04
- name: memcached
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.72'
      desc: 01-to-04
- name: beanstalkd
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.73'
      desc: 01-to-04
- name: logstash
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.74'
      desc: 01-to-04

- name: kibana
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.75'
      desc: 'Network to Advertise'

##  mysql (10.0.0.81 ~ 10.0.0.89)
- name: mysql1
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.81'
      desc: 01-to-04
- name: mysql2
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.82'
      desc: 01-to-04
- name: mysql3
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.83'
      desc: 01-to-04

##  mongodb (10.0.0.91 ~ 10.0.0.99)
- name: mongodb1
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.91'
      desc: 01-to-04
- name: mongodb2
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.92'
      desc: 01-to-04

##  elasticsearch (10.0.0.101 ~ 10.0.0.109)
- name: elasticsearch1
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.101'
      desc: 01-to-04
- name: elasticsearch2
  status: 'off' # multiple
  box: centos/7
  cpus: 1
  memory: 512
  shells:
    - path: yum-update.sh
    - path: echo-id_rsa-to-ssh.sh
    - path: restart-sshd.sh
    - path: echo-etc_hosts.sh
  private_networks:  #Internal only interfaces
    - ip: '10.0.0.102'
      desc: 01-to-04